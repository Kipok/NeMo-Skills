{"id": "aime24-0", "problem": "Among the 900 residents of Aimeville, there are 195 who own a diamond ring, 367 who own a set of golf clubs, and 562 who own a garden spade. In addition, each of the 900 residents owns a bag of candy hearts. There are 437 residents who own exactly two of these things, and 234 residents who own exactly three of these things. Find the number of residents of Aimeville who own all four of these things.", "reference_solution": "Let  $w,x,y,z$  denote the number of residents who own 1,2,3 and 4 of these items, respectively. We know  $w+x+y+z=900$ , since there are 900 residents in total. This simplifies to $w+z=229$ , since we know  $x=437$  and  $y=234$ . Now, we set an equation of the total number of items. We know there are 195 rings, 367 clubs, 562 spades, and 900 candy hearts. Adding these up, there are 2024 (wow! the year!) items in total. Thus,  $w+2x+3y+4z=2024$  since we are adding the number of items each group of people contributes, and this must be equal to the total number of items. Plugging in x and y once more, we get  $w+4z=448$ . Solving  $w+z=229$  and  $w+4z=448$ , we get  $z=\\boxed{073}$  \n-Westwoodmonster", "expected_answer": "73", "source": "aime24", "domain": null, "pass_ratio": 0.14}
{"id": "aime24-1", "problem": "A list of positive integers has the following properties: $\\bullet$  The sum of the items in the list is  $30$ . $\\bullet$  The unique mode of the list is  $9$ . $\\bullet$  The median of the list is a positive integer that does not appear in the list itself. Find the sum of the squares of all the items in the list.", "reference_solution": "The third condition implies that the list's size must be an even number, as if it were an odd number, the median of the list would surely appear in the list itself. Therefore, we can casework on what even numbers work. Say the size is 2. Clearly, this doesn't work as the only list would be  $\\{9, 9\\}$ , which doesn't satisfy condition 1. If the size is 4, then we can have two  $9$ s, and a remaining sum of  $12$ . Since the other two values in the list must be distinct, and their sum must equal  $30-18=12$ , we have that the two numbers are in the form  $a$  and  $12-a$ . Note that we cannot have both values greater than  $9$ , and we cannot have only one value greater than  $9$ , because this would make the median  $9$ , which violates condition 3. Since the median of the list is a positive integer, this means that the greater of  $a$  and  $12-a$  must be an odd number. The only valid solution to this is  $a=5$ . Thus, our answer is  $5^2+7^2+9^2+9^2 = \\boxed{236}$ . ~akliu", "expected_answer": "236", "source": "aime24", "domain": null, "pass_ratio": 0.08}
{"id": "aime24-2", "problem": "Find the number of ways to place a digit in each cell of a 2x3 grid so that the sum of the two numbers formed by reading left to right is  $999$ , and the sum of the three numbers formed by reading top to bottom is  $99$ . The grid below is an example of such an arrangement because  $8+991=999$  and  $9+9+81=99$ . \\[\\begin{array}{|c|c|c|} \\hline 0 & 0 & 8 \\\\ \\hline 9 & 9 & 1 \\\\ \\hline \\end{array}\\]", "reference_solution": "Consider this table: $\\begin{array}{|c|c|c|} \\hline a & b & c \\\\ \\hline d & e & f\\\\ \\hline \\end{array}$ We note that  $c+f = 9$ , because  $c+f \\leq 18$ , meaning it never achieves a unit's digit sum of  $9$  otherwise. Since no values are carried onto the next digit, this implies  $b+e=9$  and  $a+d=9$ . We can then simplify our table into this: $\\begin{array}{|c|c|c|} \\hline a & b & c \\\\ \\hline 9-a & 9-b & 9-c \\\\ \\hline \\end{array}$ We want  $10(a+b+c) + (9-a+9-b+9-c) = 99$ , or  $9(a+b+c+3) = 99$ , or  $a+b+c=8$ . Since zeroes are allowed, we just need to apply stars and bars on  $a, b, c$ , to get  $\\tbinom{8+3-1}{3-1} = \\boxed{045}$ . ~akliu", "expected_answer": "45", "source": "aime24", "domain": null, "pass_ratio": 0.7}
{"id": "aime24-3", "problem": "Let  $x,y$  and  $z$  be positive real numbers that satisfy the following system of equations:\n \\[\\log_2\\left({x \\over yz}\\right) = {1 \\over 2}\\]  \\[\\log_2\\left({y \\over xz}\\right) = {1 \\over 3}\\]  \\[\\log_2\\left({z \\over xy}\\right) = {1 \\over 4}\\] \nThen the value of  $\\left|\\log_2(x^4y^3z^2)\\right|$  is  $\\tfrac{m}{n}$  where  $m$  and  $n$  are relatively prime positive integers. Find  $m+n$ .", "reference_solution": "Denote  $\\log_2(x) = a$ ,  $\\log_2(y) = b$ , and  $\\log_2(z) = c$ . Then, we have:\n $a-b-c = \\frac{1}{2}$ \n $-a+b-c = \\frac{1}{3}$ \n $-a-b+c = \\frac{1}{4}$ Now, we can solve to get  $a = \\frac{-7}{24}, b = \\frac{-9}{24}, c = \\frac{-5}{12}$ . Plugging these values in, we obtain  $|4a + 3b + 2c|  = \\frac{25}{8} \\implies \\boxed{033}$ . ~akliu", "expected_answer": "33", "source": "aime24", "domain": null, "pass_ratio": 0.36}
{"id": "aime24-4", "problem": "Let ABCDEF be a convex equilateral hexagon in which all pairs of opposite sides are parallel. The triangle whose sides are extensions of segments AB, CD, and EF has side lengths 200, 240, and 300. Find the side length of the hexagon.", "reference_solution": "Draw a good diagram!\nLet  $AF \\cap BC$ ,  $BC \\cap DE$ , and  $AF \\cap DE$  be K, L, and M, respectively. Let  $KL=200, KM=300, ML=240$ . Notice that all smaller triangles formed are all similar to the larger  $(200,240,300)$  triangle. Let the side length of the hexagon be  $x.$ Triangle  $\\triangle MEF \\sim \\triangle MLK$ , so  $\\frac{KL}{KM} =\\frac{x}{FM} =\\frac{200}{300} \\implies FM=\\frac{3x}{2}$ . Triangle  $\\triangle KAB \\sim \\triangle KML$ , so  $\\frac{LM}{KM}=\\frac{x}{KA} = \\frac{240}{300} \\implies AK=\\frac{5x}{4}$ . We know  $KA+AF+FM=300$ , so  $\\frac{5}{4}x + x + \\frac{3}{2}x = 300$ . Solving, we get  $x=\\boxed{080}$ . -westwoodmonster", "expected_answer": "80", "source": "aime24", "domain": null, "pass_ratio": 0.31}
{"id": "aime24-5", "problem": "Alice chooses a set  $A$  of positive integers. Then Bob lists all finite nonempty sets  $B$  of positive integers with the property that the maximum element of  $B$  belongs to  $A$ . Bob's list has 2024 sets. Find the sum of the elements of A.", "reference_solution": "Let  $k$  be one of the elements in Alices set  $A$  of positive integers. The number of sets that Bob lists with the property that their maximum element is k is  $2^{k-1}$ , since every positive integer less than k can be in the set or out. Thus, for the number of sets bob have listed to be 2024, we want to find a sum of unique powers of two that can achieve this. 2024 is equal to  $2^{10}+2^9+2^8+2^7+2^6+2^5+2^3$ . We must increase each power by 1 to find the elements in set  $A$ , which are  $(11,10,9,8,7,6,4)$ . Add these up to get  $\\boxed{055}$ . -westwoodmonster Note: The power of two expansion can be found from the binary form of  $2024$ , which is  $11111101000_2$ . ~cxsmi", "expected_answer": "55", "source": "aime24", "domain": null, "pass_ratio": 0.58}
{"id": "aime24-6", "problem": "Let  $N$  be the greatest four-digit positive integer with the property that whenever one of its digits is changed to  $1$ , the resulting number is divisible by  $7$ . Let  $Q$  and  $R$  be the quotient and remainder, respectively, when  $N$  is divided by  $1000$ . Find  $Q+R$ .", "reference_solution": "We note that by changing a digit to  $1$  for the number  $\\overline{abcd}$ , we are subtracting the number by either  $1000(a-1)$ ,  $100(b-1)$ ,  $10(c-1)$ , or  $d-1$ . Thus,  $1000a + 100b + 10c + d \\equiv 1000(a-1) \\equiv 100(b-1) \\equiv 10(c-1) \\equiv d-1 \\pmod{7}$ . We can casework on  $a$  backwards, finding the maximum value. (Note that computing  $1000 \\equiv 6 \\pmod{7}, 100 \\equiv 2 \\pmod{7}, 10 \\equiv 3 \\pmod{7}$  greatly simplifies computation). Applying casework on  $a$ , we can eventually obtain a working value of  $\\overline{abcd} = 5694 \\implies \\boxed{699}$ . ~akliu", "expected_answer": "699", "source": "aime24", "domain": null, "pass_ratio": 0.25}
{"id": "aime24-7", "problem": "Torus  $T$  is the surface produced by revolving a circle with radius  $3$  around an axis in the plane of the circle that is a distance  $6$  from the center of the circle (so like a donut). Let  $S$  be a sphere with a radius  $11$ . When  $T$  rests on the inside of  $S$ , it is internally tangent to  $S$  along a circle with radius  $r_i$ , and when  $T$  rests on the outside of  $S$ , it is externally tangent to  $S$  along a circle with radius  $r_o$ . The difference  $r_i-r_o$  can be written as  $\\tfrac{m}{n}$ , where  $m$  and  $n$  are relatively prime positive integers. Find  $m+n$ . [asy] unitsize(0.3 inch); draw(ellipse((0,0), 3, 1.75)); draw((-1.2,0.1)..(-0.8,-0.03)..(-0.4,-0.11)..(0,-0.15)..(0.4,-0.11)..(0.8,-0.03)..(1.2,0.1)); draw((-1,0.04)..(-0.5,0.12)..(0,0.16)..(0.5,0.12)..(1,0.04)); draw((0,2.4)--(0,-0.15)); draw((0,-0.15)--(0,-1.75), dashed); draw((0,-1.75)--(0,-2.25)); draw(ellipse((2,0), 1, 0.9)); draw((2.03,-0.02)--(2.9,-0.4)); [/asy]", "reference_solution": "First, let's consider a section  $\\mathcal{P}$  of the solids, along the axis.\nBy some 3D-Geomerty thinking, we can simply know that the axis crosses the sphere center. So, that is saying, the  $\\mathcal{P}$  we took crosses one of the equator of the sphere. Here I drew two graphs, the first one is the case when  $T$  is internally tangent to  $S$ , [asy] unitsize(0.35cm); pair O = (0, 0); real r1 = 11; real r2 = 3; draw(circle(O, r1)); pair A = O + (0, -r1); pair B = O + (0, r1); draw(A--B); pair C = O + (0, -1.25*r1); pair D = O + (0, 1.25*r1); draw(C--D, dashed); dot(O); pair E = (2 * r2, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2)); pair F = (0, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2)); pair G = (-r2 * O + r1 * E) / (r1 - r2); pair H = (-r2 * O + r1 * F) / (r1 - r2); draw(circle(E, r2)); draw(circle((-2 * r2, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2)), r2)); draw(O--G, dashed); draw(F--E, dashed); draw(G--H, dashed); label(\"$O$\", O, SW); label(\"$A$\", A, SW); label(\"$B$\", B, NW); label(\"$C$\", C, NW); label(\"$D$\", D, SW); label(\"$E_i$\", E, NE); label(\"$F_i$\", F, W); label(\"$G_i$\", G, SE); label(\"$H_i$\", H, W); label(\"$r_i$\", 0.5 * H + 0.5 * G, NE); label(\"$3$\", 0.5 * E + 0.5 * G, NE); label(\"$11$\", 0.5 * O + 0.5 * G, NE); [/asy] and the second one is when  $T$  is externally tangent to  $S$ . [asy] unitsize(0.35cm); pair O = (0, 0); real r1 = 11; real r2 = 3; draw(circle(O, r1)); pair A = O + (0, -r1); pair B = O + (0, r1); draw(A--B); pair C = O + (0, -1.25*(r1 + r2)); pair D = O + (0, 1.25*r1); draw(C--D, dashed); dot(O); pair E = (2 * r2, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2)); pair F = (0, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2)); pair G = (r2 * O + r1 * E) / (r1 + r2); pair H = (r2 * O + r1 * F) / (r1 + r2); draw(circle(E, r2)); draw(circle((-2 * r2, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2)), r2)); draw(O--E, dashed); draw(F--E, dashed); draw(G--H, dashed); label(\"$O$\", O, SW); label(\"$A$\", A, SW); label(\"$B$\", B, NW); label(\"$C$\", C, NW); label(\"$D$\", D, SW); label(\"$E_o$\", E, NE); label(\"$F_o$\", F, SW); label(\"$G_o$\", G, S); label(\"$H_o$\", H, W); label(\"$r_o$\", 0.5 * H + 0.5 * G, NE); label(\"$3$\", 0.5 * E + 0.5 * G, NE); label(\"$11$\", 0.5 * O + 0.5 * G, NE); [/asy] For both graphs, point  $O$  is the center of sphere  $S$ , and points  $A$  and  $B$  are the intersections of the sphere and the axis. Point  $E$  (ignoring the subscripts) is one of the circle centers of the intersection of torus  $T$  with section  $\\mathcal{P}$ . Point  $G$  (again, ignoring the subscripts) is one of the tangents between the torus  $T$  and sphere  $S$  on section  $\\mathcal{P}$ .  $EF\\bot CD$ ,  $HG\\bot CD$ . And then, we can start our calculation. In both cases, we know  $\\Delta OEF\\sim \\Delta OGH\\Longrightarrow \\frac{EF}{OE} =\\frac{GH}{OG}$ . Hence, in the case of internal tangent,  $\\frac{E_iF_i}{OE_i} =\\frac{G_iH_i}{OG_i}\\Longrightarrow \\frac{6}{11-3} =\\frac{r_i}{11}\\Longrightarrow r_i=\\frac{33}{4}$ . In the case of external tangent,  $\\frac{E_oF_o}{OE_o} =\\frac{G_oH_o}{OG_o}\\Longrightarrow \\frac{6}{11+3} =\\frac{r_o}{11}\\Longrightarrow r_o=\\frac{33}{7}$ . Thereby,  $r_i-r_o=\\frac{33}{4}-\\frac{33}{7}=\\frac{99}{28}$ . And there goes the answer,  $99+28=\\boxed{\\mathbf{127} }$ ~Prof_Joker", "expected_answer": "127", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-8", "problem": "There is a collection of  $25$  indistinguishable white chips and  $25$  indistinguishable black chips. Find the number of ways to place some of these chips in the  $25$  unit cells of a  $5\\times5$  grid such that: each cell contains at most one chip all chips in the same row and all chips in the same column have the same colour any additional chip placed on the grid would violate one or more of the previous two conditions.", "reference_solution": "The problem says \"some\", so not all cells must be occupied.\nWe start by doing casework on the column on the left. There can be 5,4,3,2, or 1 black chip. The same goes for white chips, so we will multiply by 2 at the end. There is  $1$  way to select  $5$  cells with black chips. Because of the 2nd condition, there can be no white, and the grid must be all black-  $1$  way . There are  $5$  ways to select 4 cells with black chips. We now consider the row that does not contain a black chip. The first cell must be blank, and the remaining  $4$  cells have  $2^4-1$  different ways( $-1$  comes from all blank). This gives us  $75$  ways. Notice that for 3,2 or 1 black chips on the left there is a pattern. Once the first blank row is chosen, the rest of the blank rows must be ordered similarly. For example, with 2 black chips on the left, there will be 3 blank rows. There are 15 ways for the first row to be chosen, and the following 2 rows must have the same order. Thus, The number of ways for 3,2,and 1 black chips is  $10*15$ ,  $10*15$ ,  $5*15$ . Adding these up, we have  $1+75+150+150+75 = 451$ . Multiplying this by 2, we get  $\\boxed{902}$ .\n~westwoodmonster", "expected_answer": "902", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-9", "problem": "Let  $\\triangle ABC$  have circumcenter  $O$  and incenter  $I$  with  $\\overline{IA}\\perp\\overline{OI}$ , circumradius  $13$ , and inradius  $6$ . Find  $AB\\cdot AC$ .", "reference_solution": "By Euler's formula  $OI^{2}=R(R-2r)$ , we have  $OI^{2}=13(13-12)=13$ . Thus, by the Pythagorean theorem,  $AI^{2}=13^{2}-13=156$ . Let  $AI\\cap(ABC)=M$ ; notice  $\\triangle AOM$  is isosceles and  $\\overline{OI}\\perp\\overline{AM}$  which is enough to imply that  $I$  is the midpoint of  $\\overline{AM}$ , and  $M$  itself is the midpoint of  $II_{a}$  where  $I_{a}$  is the  $A$ -excenter of  $\\triangle ABC$ . Therefore,  $AI=IM=MI_{a}=\\sqrt{156}$  and  \\[AB\\cdot AC=AI\\cdot AI_{a}=3\\cdot AI^{2}=\\boxed{468}.\\] Note that this problem is extremely similar to <a href=\"/wiki/index.php/2019_CIME_I_Problems/Problem_14\" title=\"2019 CIME I Problems/Problem 14\">2019 CIME I/14</a>. <br/>", "expected_answer": "468", "source": "aime24", "domain": null, "pass_ratio": 0.06}
{"id": "aime24-10", "problem": "Find the number of triples of nonnegative integers  $(a,b,c)$  satisfying  $a + b + c = 300$  and\n \\[a^2b + a^2c + b^2a + b^2c + c^2a + c^2b = 6,000,000.\\]", "reference_solution": "$ab(a+b)+bc(b+c)+ac(a+c)=300(ab+bc+ac)-3abc=6000000, 100(ab+bc+ac)-abc=2000000$ Note that \n $(100-a)(100-b)(100-c)=1000000-10000(a+b+c)+100(ab+bc+ac)-abc=0$ . Thus,  $a/b/c=100$ . There are  $201$  cases for each but we need to subtract  $2$  for  $(100,100,100)$ . The answer is  $\\boxed{601}$ ~Bluesoul,Shen Kislay Kai", "expected_answer": "601", "source": "aime24", "domain": null, "pass_ratio": 0.36}
{"id": "aime24-11", "problem": "Let \\(O=(0,0)\\), \\(A=\\left(\\tfrac{1}{2},0\\right)\\), and \\(B=\\left(0,\\tfrac{\\sqrt{3}}{2}\\right)\\) be points in the coordinate plane. Let \\(\\mathcal{F}\\) be the family of segments \\(\\overline{PQ}\\) of unit length lying in the first quadrant with \\(P\\) on the \\(x\\)-axis and \\(Q\\) on the \\(y\\)-axis. There is a unique point \\(C\\) on \\(\\overline{AB}\\), distinct from \\(A\\) and \\(B\\),  that does not belong to any segment from \\(\\mathcal{F}\\) other than \\(\\overline{AB}\\). Then \\(OC^2=\\tfrac{p}{q}\\), where \\(p\\) and \\(q\\) are relatively prime positive integers. Find \\(p+q\\). <br/>", "reference_solution": "Begin by finding the equation of the line  $\\overline{AB}$ :  $y= -\\sqrt{3}x+\\frac{\\sqrt{3}}{2}$  Now, consider the general equation of all lines that belong to  $\\mathcal{F}$ . Let  $P$  be located at  $(a,0)$  and  $Q$  be located at  $(0,b)$ . With these assumptions, we may arrive at the equation  $ay +bx =ab$ . However, a critical condition that must be satisfied by our parameters is that  $a^2+b^2=1$ , since the length of  $\\overline{PQ}=1$ . Here's the golden trick that resolves the problem: we wish to find some point  $C$  along  $\\overline{AB}$  such that  $\\overline{PQ}$  passes through  $C$  if and only if  $a=\\frac{1}{2}$ . It's not hard to convince oneself of this, since the property  $a^2+b^2=1$  implies that if  $a=\\frac{1}{2}$ , then  $\\overline{PQ}=\\overline{AB}$ . We should now try to relate the point  $C$  to some value of  $a$ . This is accomplished by finding the intersection of two lines:  \\[     a(-\\sqrt{3}x +\\frac{\\sqrt{3}}{2}) + x\\sqrt{1-a^2} = a\\sqrt{1-a^2} \\] Where we have also used the fact that  $b=\\sqrt{1-a^2}$ , which follows nicely from  $a^2+b^2 =1$ .   \\[     a(-\\sqrt{3}x +\\frac{\\sqrt{3}}{2})   = (a-x)\\sqrt{1-a^2} \\] Square both sides and go through some algebraic manipulations to arrive at \n \\[     -a^4 +2xa^3+(-4x^2+3x+\\frac{1}{4})a^2-2xa+x^2=0 \\] Note how  $a=\\frac{1}{2}$  is a solution to this polynomial, and it is logically so. If we found the set of intersections consisting of line segment  $\\overline{AB}$  with an identical copy of itself, every single point on the line (all  $x$  values) should satisfy the equation. Thus, we can perform polynomial division to eliminate the extraneous solution  $a=\\frac{1}{2}$ .  \\[     -a^3 + (2x-\\frac{1}{2})a^2+(-4x^2+4x)a-2x^2=0 \\] Remember our original goal. It was to find an  $x$  value such that  $a=\\frac{1}{2}$  is the only valid solution. Therefore, we can actually plug in  $a=\\frac{1}{2}$  back into the equation to look for values of  $x$  such that the relation is satisfied, then eliminate undesirable answers.\n \\[     16x^2-10x+1=0 \\] \nThis is easily factored, allowing us to determine that  $x=\\frac{1}{8},\\frac{1}{2}$ . The latter root is not our answer, since on line  $\\overline{AB}$ ,  $y(\\frac{1}{2})=0$ , the horizontal line segment running from  $(0,0)$  to  $(1,0)$  covers that point. From this, we see that  $x=\\frac{1}{8}$  is the only possible candidate. Going back to line  $\\overline{AB}, y= -\\sqrt{3}x+\\frac{\\sqrt{3}}{2}$ , plugging in  $x=\\frac{1}{8}$  yields  $y=\\frac{3\\sqrt{3}}{8}$ . The distance from the origin is then given by  $\\sqrt{\\frac{1}{8^2}+(\\frac{3\\sqrt{3}}{8})^2} =\\sqrt{\\frac{7}{16}}$ . That number squared is  $\\frac{7}{16}$ , so the answer is  $\\boxed{023}$ . <br/> ~Installhelp_hex", "expected_answer": "23", "source": "aime24", "domain": null, "pass_ratio": 0.05}
{"id": "aime24-12", "problem": "Let  $\\omega\\neq 1$  be a 13th root of unity. Find the remainder when\n \\[\\prod_{k=0}^{12}(2-2\\omega^k+\\omega^{2k})\\] \nis divided by 1000.", "reference_solution": "\\[\\prod_{k=0}^{12} \\left(2- 2\\omega^k + \\omega^{2k}\\right) = \\prod_{k=0}^{12} \\left((1 - \\omega^k)^2 + 1\\right) = \\prod_{k=0}^{12} \\left((1 + i) - \\omega^k)((1 - i) - \\omega^k\\right)\\] Now, we consider the polynomial  $x^{13} - 1$  whose roots are the 13th roots of unity. Taking our rewritten product from  $0$  to  $12$ , we see that both instances of  $\\omega^k$  cycle through each of the 13th roots. Then, our answer is: \\[((1 + i)^{13} - 1)(1 - i)^{13} - 1)\\] \\[= (-64(1 + i) - 1)(-64(1 - i) - 1)\\] \\[= (65 + 64i)(65 - 64i)\\] \\[= 65^2 + 64^2\\] \\[= 8\\boxed{\\textbf{321}}\\] ~Mqnic_", "expected_answer": "321", "source": "aime24", "domain": null, "pass_ratio": 0.3}
{"id": "aime24-13", "problem": "Let \\(b\\ge 2\\) be an integer. Call a positive integer \\(n\\) \\(b\\text-\\textit{eautiful}\\) if it has exactly two digits when expressed in base \\(b\\)  and these two digits sum to \\(\\sqrt n\\). For example, \\(81\\) is \\(13\\text-\\textit{eautiful}\\) because \\(81  = \\underline{6} \\ \\underline{3}_{13} \\) and \\(6 + 3 =  \\sqrt{81}\\). Find the least integer \\(b\\ge 2\\) for which there are more than ten \\(b\\text-\\textit{eautiful}\\) integers.", "reference_solution": "We write the base- $b$  two-digit integer as  $\\left( xy \\right)_b$ .\nThus, this number satisfies\n \\[ \\left( x + y \\right)^2 = b x + y \\] \nwith  $x \\in \\left\\{ 1, 2, \\cdots , b-1 \\right\\}$  and  $y \\in \\left\\{ 0, 1, \\cdots , b - 1 \\right\\}$ . The above conditions imply  $\\left( x + y \\right)^2 < b^2$ . Thus,  $x + y \\leq b - 1$ . The above equation can be reorganized as\n \\[ \\left( x + y \\right) \\left( x + y - 1 \\right) = \\left( b - 1 \\right) x . \\] Denote  $z = x + y$  and  $b' = b - 1$ .\nThus, we have\n \\[ z \\left( z - 1 \\right) = b' x , \\hspace{1cm} (1) \\] \nwhere  $z \\in \\left\\{ 2, 3, \\cdots , b' \\right\\}$  and  $x \\in \\left\\{ 1, 2, \\cdots , b' \\right\\}$ . Next, for each  $b'$ , we solve Equation (1). We write  $b'$  in the prime factorization form as  $b' = \\Pi_{i=1}^n p_i^{k_i}$ .\nLet  $\\left(A, \\bar A \\right)$  be any ordered partition of  $\\left\\{ 1, 2, \\cdots , n \\right\\}$  (we allow one set to be empty).\nDenote  $P_A = \\Pi_{i \\in A} p_i^{k_i}$  and  $P_{\\bar A} = \\Pi_{i \\in \\bar A} p_i^{k_i}$ . Because  ${\\rm gcd} \\left( z, z-1 \\right) = 1$ , there must exist such an ordered partition, such that  $P_A | z$  and  $P_{\\bar A} | z-1$ . Next, we prove that for each ordered partition  $\\left( A, \\bar A \\right)$ , if a solution of  $z$  exists, then it must be unique. Suppose there are two solutions of  $z$  under partition  $\\left( A, \\bar A \\right)$ :  $z_1 = c_1 P_A$ ,  $z_1 - 1 = d_1 P_{\\bar A}$ , and  $z_2 = c_2 P_A$ ,  $z_2 - 1 = d_2 P_{\\bar A}$ .\nW.L.O.G., assume  $c_1 < c_2$ .\nHence, we have\n \\[ \\left( c_2 - c_1 \\right) P_A = \\left( d_2 - d_1 \\right) P_{\\bar A} . \\] Because  ${\\rm gcd} \\left( P_A, P_{\\bar A} \\right) = 1$  and  $c_1 < c_2$ , there exists a positive integer  $m$ , such that  $c_2 = c_1 + m P_{\\bar A}$  and  $d_2 = d_1 + m P_A$ .\nThus,\n\\begin{align*}\nz_2 & = z_1 + m P_A P_{\\bar A} \\\\\n& = z_1 + m b' \\\\\n& > b' .\n\\end{align*} However, recall  $z_2 \\leq b'$ . We get a contradiction.\nTherefore, under each ordered partition for  $b'$ , the solution of  $z$  is unique. Note that if  $b'$  has  $n$  distinct prime factors, the number of ordered partitions is  $2^n$ .\nTherefore, to find a  $b'$  such that the number of solutions of  $z$  is more than 10, the smallest  $n$  is 4. With  $n = 4$ , the smallest number is  $2 \\cdot 3 \\cdot 5 \\cdot 7 = 210$ .\nNow, we set  $b' = 210$  and check whether the number of solutions of  $z$  under this  $b'$  is more than 10. We can easily see that all ordered partitions (except  $A = \\emptyset$ ) guarantee feasible solutions of  $z$ .\nTherefore, we have found a valid  $b'$ .\nTherefore,  $b = b' + 1 = \\boxed{\\textbf{(211) }}$ . ~Shen Kislay Kai and Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)", "expected_answer": "211", "source": "aime24", "domain": null, "pass_ratio": 0.44}
{"id": "aime24-14", "problem": "Find the number of rectangles that can be formed inside a fixed regular dodecagon ( $12$ -gon) where each side of the rectangle lies on either a side or a diagonal of the dodecagon. The diagram below shows three of those rectangles. [asy] unitsize(0.6 inch); for(int i=0; i<360; i+=30) { dot(dir(i), 4+black); draw(dir(i)--dir(i+30)); } draw(dir(120)--dir(330)); filldraw(dir(210)--dir(240)--dir(30)--dir(60)--cycle, mediumgray, linewidth(1.5)); draw((0,0.366)--(0.366,0), linewidth(1.5)); [/asy]", "reference_solution": "By Furaken There are two kinds of such rectangles: those whose sides are parallel to some edges of the regular 12-gon (Case 1), and those whose sides are not (Case 2). For Case 1, WLOG assume that the rectangle's sides are horizontal and vertical (don't forget to multiply by 3 at the end of Case 1). Then the rectangle's sides coincide with these segments as shown in the diagram.\n [asy] real r = pi/6; pair A1 = (cos(r),sin(r)); pair A2 = (cos(2r),sin(2r)); pair A3 = (cos(3r),sin(3r)); pair A4 = (cos(4r),sin(4r)); pair A5 = (cos(5r),sin(5r)); pair A6 = (cos(6r),sin(6r)); pair A7 = (cos(7r),sin(7r)); pair A8 = (cos(8r),sin(8r)); pair A9 = (cos(9r),sin(9r)); pair A10 = (cos(10r),sin(10r)); pair A11 = (cos(11r),sin(11r)); pair A12 = (cos(12r),sin(12r)); dot(A1); dot(A2); dot(A3); dot(A4); dot(A5); dot(A6); dot(A7); dot(A8); dot(A9); dot(A10); dot(A11); dot(A12); pair B1 = (0.5,0.5); pair B2 = (-0.5,0.5); pair B3 = (-0.5,-0.5); pair B4 = (0.5,-0.5); dot(B1); dot(B2); dot(B3); dot(B4); draw(A1--A5--A7--A11--cycle); draw(A2--A4--A8--A10--cycle); draw(A3--A9); draw(A6--A12); label(\"$A_1$\", A1, NE); label(\"$A_2$\", A2, NE); label(\"$A_3$\", A3, N); label(\"$A_4$\", A4, NW); label(\"$A_5$\", A5, NW); label(\"$A_6$\", A6, W); label(\"$A_7$\", A7, SW); label(\"$A_8$\", A8, SW); label(\"$A_9$\", A9, S); label(\"$A_{10}$\", A10, SE); label(\"$A_{11}$\", A11, SE); label(\"$A_{12}$\", A12, E); label(\"$B_1$\", B1, SW); label(\"$B_2$\", B2, SE); label(\"$B_3$\", B3, NE); label(\"$B_4$\", B4, NW); [/asy] \nWe use inclusion-exclusion for this. There are 30 valid rectangles contained in  $A_1A_5A_7A_{11}$ , as well as 30 in  $A_2A_4A_8A_{10}$ . However, the 9 rectangles contained in  $B_1B_2B_3B_4$  have been counted twice, so we subtract 9 and we have 51 rectangles in the diagram. Multiplying by 3, we get 153 rectangles for Case 1. For Case 2, we have this diagram. To be honest, you can count the rectangles here in whatever way you like.\n [asy] real r = pi/6; pair A1 = (cos(r),sin(r)); pair A2 = (cos(2r),sin(2r)); pair A3 = (cos(3r),sin(3r)); pair A4 = (cos(4r),sin(4r)); pair A5 = (cos(5r),sin(5r)); pair A6 = (cos(6r),sin(6r)); pair A7 = (cos(7r),sin(7r)); pair A8 = (cos(8r),sin(8r)); pair A9 = (cos(9r),sin(9r)); pair A10 = (cos(10r),sin(10r)); pair A11 = (cos(11r),sin(11r)); pair A12 = (cos(12r),sin(12r)); dot(A1); dot(A2); dot(A3); dot(A4); dot(A5); dot(A6); dot(A7); dot(A8); dot(A9); dot(A10); dot(A11); dot(A12); draw(A1--A6--A7--A12--cycle); draw(A3--A4--A9--A10--cycle); draw(A2--A5--A8--A11--cycle); label(\"$A_1$\", A1, NE); label(\"$A_2$\", A2, NE); label(\"$A_3$\", A3, N); label(\"$A_4$\", A4, NW); label(\"$A_5$\", A5, NW); label(\"$A_6$\", A6, W); label(\"$A_7$\", A7, SW); label(\"$A_8$\", A8, SW); label(\"$A_9$\", A9, S); label(\"$A_{10}$\", A10, SE); label(\"$A_{11}$\", A11, SE); label(\"$A_{12}$\", A12, E); [/asy] \nThere are 36 rectangles contained within  $A_2A_5A_8A_{11}$ , and 18 that use points outside  $A_2A_5A_8A_{11}$ . So we get a total of  $3(36+18)=162$  rectangles for Case 2. Adding the two cases together, we get the answer  $\\boxed{315}$ .", "expected_answer": "315", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-15", "problem": "Every morning Aya goes for a  $9$ -kilometer-long walk and stops at a coffee shop afterwards. When she walks at a constant speed of  $s$  kilometers per hour, the walk takes her 4 hours, including  $t$  minutes spent in the coffee shop. When she walks  $s+2$  kilometers per hour, the walk takes her 2 hours and 24 minutes, including  $t$  minutes spent in the coffee shop. Suppose Aya walks at  $s+\\frac{1}{2}$  kilometers per hour. Find the number of minutes the walk takes her, including the  $t$  minutes spent in the coffee shop.", "reference_solution": "$\\frac{9}{s} + t = 4$  in hours and  $\\frac{9}{s+2} + t = 2.4$  in hours. Subtracting the second equation from the first, we get, $\\frac{9}{s} - \\frac{9}{s+2} = 1.6$ Multiplying by  $(s)(s+2)$ , we get $9s+18-9s=18=1.6s^{2} + 3.2s$ Multiplying by 5/2 on both sides, we get $0 = 4s^{2} + 8s - 45$ Factoring gives us $(2s-5)(2s+9) = 0$ , of which the solution we want is  $s=2.5$ . Substituting this back to the first equation, we can find that  $t = 0.4$  hours. Lastly,  $s + \\frac{1}{2} = 3$  kilometers per hour, so $\\frac{9}{3} + 0.4 = 3.4$  hours, or  $\\framebox{204}$  minutes -Failure.net", "expected_answer": "204", "source": "aime24", "domain": null, "pass_ratio": 0.7}
{"id": "aime24-16", "problem": "There exist real numbers  $x$  and  $y$ , both greater than 1, such that  $\\log_x\\left(y^x\\right)=\\log_y\\left(x^{4y}\\right)=10$ . Find  $xy$ .", "reference_solution": "By properties of logarithms, we can simplify the given equation to  $x\\log_xy=4y\\log_yx=10$ . Let us break this into two separate equations: \\[x\\log_xy=10\\] \n \\[4y\\log_yx=10.\\] \nWe multiply the two equations to get: \n \\[4xy\\left(\\log_xy\\log_yx\\right)=100.\\] Also by properties of logarithms, we know that  $\\log_ab\\cdot\\log_ba=1$ ; thus,  $\\log_xy\\cdot\\log_yx=1$ . Therefore, our equation simplifies to: \\[4xy=100\\implies xy=\\boxed{025}.\\] ~Technodoggo", "expected_answer": "25", "source": "aime24", "domain": null, "pass_ratio": 0.97}
{"id": "aime24-17", "problem": "Alice and Bob play the following game. A stack of  $n$  tokens lies before them. The players take turns with Alice going first. On each turn, the player removes either  $1$  token or  $4$  tokens from the stack. Whoever removes the last token wins. Find the number of positive integers  $n$  less than or equal to  $2024$  for which there exists a strategy for Bob that guarantees that Bob will win the game regardless of Alice's play.", "reference_solution": "Let's first try some experimentation. Alice obviously wins if there is one coin. She will just take it and win. If there are 2 remaining, then Alice will take one and then Bob will take one, so Bob wins. If there are  $3$ , Alice will take  $1$ , Bob will take one, and Alice will take the final one. If there are  $4$ , Alice will just remove all  $4$  at once. If there are  $5$ , no matter what Alice does, Bob can take the final coins in one try. Notice that Alice wins if there are  $1$ ,  $3$ , or  $4$  coins left. Bob wins if there are  $2$  or  $5$  coins left. After some thought, you may realize that there is a strategy for Bob. If there is n is a multiple of  $5$ , then Bob will win. The reason for this is the following: Let's say there are a multiple of  $5$  coins remaining in the stack. If Alice takes  $1$ , Bob will take  $4$ , and there will still be a multiple of  $5$ . If Alice takes  $4$ , Bob will take  $1$ , and there will still be a multiple of  $5$ . This process will continue until you get  $0$  coins left. For example, let's say there are  $205$  coins. No matter what Alice does, Bob can simply just do the complement. After each of them make a turn, there will always be a multiple of  $5$  left. This will continue until there are  $5$  coins left, and Bob will end up winning. After some more experimentation, you'll realize that any number that is congruent to  $2$  mod  $5$  will also work. This is because Bob can do the same strategy, and when there are  $2$  coins left, Alice is forced to take  $1$  and Bob takes the final coin. For example, let's say there are  $72$  coins. If Alice takes  $1$ , Bob will take  $4$ . If Alice takes  $4$ , Bob will take  $1$ . So after they each make a turn, the number will always be equal to  $2$  mod  $5$ . Eventually, there will be only  $2$  coins remaining, and we've established that Alice will simply take  $1$  and Bob will take the final coin. So we have to find the number of numbers less than or equal to  $2024$  that are either congruent to  $0$  mod  $5$  or  $2$  mod  $5$ . There are  $404$  numbers in the first category:  $5, 10, 15, \\dots, 2020$ . For the second category, there are  $405$  numbers.  $2, 7, 12, 17, \\dots, 2022$ . So the answer is  $404 + 405 = \\boxed{809}$ ~lprado", "expected_answer": "809", "source": "aime24", "domain": null, "pass_ratio": 0.14}
{"id": "aime24-18", "problem": "Jen enters a lottery by picking  $4$  distinct numbers from  $S=\\{1,2,3,\\cdots,9,10\\}.$   $4$  numbers are randomly chosen from  $S.$  She wins a prize if at least two of her numbers were  $2$  of the randomly chosen numbers, and wins the grand prize if all four of her numbers were the randomly chosen numbers. The probability of her winning the grand prize given that she won a prize is  $\\tfrac{m}{n}$  where  $m$  and  $n$  are relatively prime positive integers. Find  $m+n$ .", "reference_solution": "This is a conditional probability problem. Bayes' Theorem states that \n \\[P(A|B)=\\dfrac{P(B|A)\\cdot P(A)}{P(B)}\\] in other words, the probability of  $A$  given  $B$  is equal to the probability of  $B$  given  $A$  times the probability of  $A$  divided by the probability of  $B$ . In our case,  $A$  represents the probability of winning the grand prize, and  $B$  represents the probability of winning a prize. Clearly,  $P(B|A)=1$ , since by winning the grand prize you automatically win a prize. Thus, we want to find  $\\dfrac{P(A)}{P(B)}$ . Let us calculate the probability of winning a prize. We do this through casework: how many of Jen's drawn numbers match the lottery's drawn numbers? To win a prize, Jen must draw at least  $2$  numbers identical to the lottery. Thus, our cases are drawing  $2$ ,  $3$ , or  $4$  numbers identical. Let us first calculate the number of ways to draw exactly  $2$  identical numbers to the lottery. Let Jen choose the numbers  $a$ ,  $b$ ,  $c$ , and  $d$ ; we have  $\\dbinom42$  ways to choose which  $2$  of these  $4$  numbers are identical to the lottery. We have now determined  $2$  of the  $4$  numbers drawn in the lottery; since the other  $2$  numbers Jen chose can not be chosen by the lottery, the lottery now has  $10-2-2=6$  numbers to choose the last  $2$  numbers from. Thus, this case is  $\\dbinom62$ , so this case yields  $\\dbinom42\\dbinom62=6\\cdot15=90$  possibilities. Next, let us calculate the number of ways to draw exactly  $3$  identical numbers to the lottery. Again, let Jen choose  $a$ ,  $b$ ,  $c$ , and  $d$ . This time, we have  $\\dbinom43$  ways to choose the identical numbers and again  $6$  numbers left for the lottery to choose from; however, since  $3$  of the lottery's numbers have already been determined, the lottery only needs to choose  $1$  more number, so this is  $\\dbinom61$ . This case yields  $\\dbinom43\\dbinom61=4\\cdot6=24$ . Finally, let us calculate the number of ways to all  $4$  numbers matching. There is actually just one way for this to happen. In total, we have  $90+24+1=115$  ways to win a prize. The lottery has  $\\dbinom{10}4=210$  possible combinations to draw, so the probability of winning a prize is  $\\dfrac{115}{210}$ . There is actually no need to simplify it or even evaluate  $\\dbinom{10}4$  or actually even know that it has to be  $\\dbinom{10}4$ ; it suffices to call it  $a$  or some other variable, as it will cancel out later. However, let us just go through with this. The probability of winning a prize is  $\\dfrac{115}{210}$ . Note that the probability of winning a grand prize is just matching all  $4$  numbers, which we already calculated to have  $1$  possibility and thus have probability  $\\dfrac1{210}$ . Thus, our answer is  $\\dfrac{\\frac1{210}}{\\frac{115}{210}}=\\dfrac1{115}$ . Therefore, our answer is  $1+115=\\boxed{116}$ . ~Technodoggo", "expected_answer": "116", "source": "aime24", "domain": null, "pass_ratio": 0.91}
{"id": "aime24-19", "problem": "Rectangles  $ABCD$  and  $EFGH$  are drawn such that  $D,E,C,F$  are collinear. Also,  $A,D,H,G$  all lie on a circle. If  $BC=16$ , $AB=107$ , $FG=17$ , and  $EF=184$ , what is the length of  $CE$ ? [asy] import graph; unitsize(0.1cm);  pair A = (0,0);pair B = (70,0);pair C = (70,16);pair D = (0,16);pair E = (3,16);pair F = (90,16);pair G = (90,33);pair H = (3,33); dot(A^^B^^C^^D^^E^^F^^G^^H); label(\"$A$\", A, S);label(\"$B$\", B, S);label(\"$C$\", C, N);label(\"$D$\", D, N);label(\"$E$\", E, S);label(\"$F$\", F, S);label(\"$G$\", G, N);label(\"$H$\", H, N); draw(E--D--A--B--C--E--H--G--F--C); [/asy]", "reference_solution": "We use simple geometry to solve this problem. [asy] import graph; unitsize(0.1cm);  pair A = (0,0);pair B = (107,0);pair C = (107,16);pair D = (0,16);pair E = (3,16);pair F = (187,16);pair G = (187,33);pair H = (3,33); label(\"$A$\", A, SW);label(\"$B$\", B, SE);label(\"$C$\", C, N);label(\"$D$\", D, NW);label(\"$E$\", E, S);label(\"$F$\", F, SE);label(\"$G$\", G, NE);label(\"$H$\", H, NW); draw(E--D--A--B--C--E--H--G--F--C); /*Diagram by Technodoggo*/ [/asy] We are given that  $A$ ,  $D$ ,  $H$ , and  $G$  are concyclic; call the circle that they all pass through circle  $\\omega$  with center  $O$ . We know that, given any chord on a circle, the perpendicular bisector to the chord passes through the center; thus, given two chords, taking the intersection of their perpendicular bisectors gives the center. We therefore consider chords  $HG$  and  $AD$  and take the midpoints of  $HG$  and  $AD$  to be  $P$  and  $Q$ , respectively. [asy] import graph; unitsize(0.1cm);  pair A = (0,0);pair B = (107,0);pair C = (107,16);pair D = (0,16);pair E = (3,16);pair F = (187,16);pair G = (187,33);pair H = (3,33); label(\"$A$\", A, SW);label(\"$B$\", B, SE);label(\"$C$\", C, N);label(\"$D$\", D, NW);label(\"$E$\", E, S);label(\"$F$\", F, SE);label(\"$G$\", G, NE);label(\"$H$\", H, NW); draw(E--D--A--B--C--E--H--G--F--C);  pair P = (95, 33);pair Q = (0, 8); dot(A);dot(B);dot(C);dot(D);dot(E);dot(F);dot(G);dot(H);dot(P);dot(Q); label(\"$P$\", P, N);label(\"$Q$\", Q, W);  draw(Q--(107,8));draw(P--(95,0)); pair O = (95,8); dot(O);label(\"$O$\", O, NW); /*Diagram by Technodoggo*/ [/asy] We could draw the circumcircle, but actually it does not matter for our solution; all that matters is that  $OA=OH=r$ , where  $r$  is the circumradius. By the Pythagorean Theorem,  $OQ^2+QA^2=OA^2$ . Also,  $OP^2+PH^2=OH^2$ . We know that  $OQ=DE+HP$ , and  $HP=\\dfrac{184}2=92$ ;  $QA=\\dfrac{16}2=8$ ;  $OP=DQ+HE=8+17=25$ ; and finally,  $PH=92$ . Let  $DE=x$ . We now know that  $OA^2=(x+92)^2+8^2$  and  $OH^2=25^2+92^2$ . Recall that  $OA=OH$ ; thus,  $OA^2=OH^2$ . We solve for  $x$ : \\begin{align*}\n(x+92)^2+8^2&=25^2+92^2 \\\\\n(x+92)^2&=625+(100-8)^2-8^2 \\\\\n&=625+10000-1600+64-64 \\\\\n&=9025 \\\\\nx+92&=95 \\\\\nx&=3. \\\\\n\\end{align*} The question asks for  $CE$ , which is  $CD-x=107-3=\\boxed{104}$ . ~Technodoggo <br/>", "expected_answer": "104", "source": "aime24", "domain": null, "pass_ratio": 0.03}
{"id": "aime24-20", "problem": "Consider the paths of length  $16$  that follow the lines from the lower left corner to the upper right corner on an  $8\\times 8$  grid. Find the number of such paths that change direction exactly four times, as in the examples shown below. [asy] size(10cm); usepackage(\"tikz\");label(\"\\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(2,0)--(2,3)--(5,3)--(5,8)--(8,8);\\end{tikzpicture}\",origin); label(\"\\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(0,3)--(3,3)--(3,5)--(8,5)--(8,8);\\end{tikzpicture}\",E); [/asy]", "reference_solution": "We divide the path into eight \u201c $R$ \u201d movements and eight \u201c $U$ \u201d movements. Five sections of alternative  $RURUR$  or  $URURU$  are necessary in order to make four \u201cturns.\u201d We use the first case and multiply by  $2$ . <br/>\nFor  $U$ , we have seven ordered pairs of positive integers  $(a,b)$  such that  $a+b=8$ . For  $R$ , we subtract  $1$  from each section (to make the minimum stars of each section  $1$ ) and we use Stars and Bars to get  ${7 \\choose 5}=21$ . <br/>\nThus our answer is  $7\\cdot21\\cdot2=\\boxed{294}$ . ~eevee9406", "expected_answer": "294", "source": "aime24", "domain": null, "pass_ratio": 0.39}
{"id": "aime24-21", "problem": "Find the largest possible real part of  \\[(75+117i)z+\\frac{96+144i}{z}\\] where  $z$  is a complex number with  $|z|=4$ .", "reference_solution": "Let  $z=a+bi$  such that  $a^2+b^2=4^2=16$ . The expression becomes: \\[(75+117i)(a+bi)+\\dfrac{96+144i}{a+bi}.\\] Call this complex number  $w$ . We simplify this expression. \\begin{align*}\nw&=(75+117i)(a+bi)+\\dfrac{96+144i}{a+bi} \\\\\n&=(75a-117b)+(117a+75b)i+48\\left(\\dfrac{2+3i}{a+bi}\\right) \\\\\n&=(75a-117b)+(116a+75b)i+48\\left(\\dfrac{(2+3i)(a-bi)}{(a+bi)(a-bi)}\\right) \\\\\n&=(75a-117b)+(116a+75b)i+48\\left(\\dfrac{2a+3b+(3a-2b)i}{a^2+b^2}\\right) \\\\\n&=(75a-117b)+(116a+75b)i+48\\left(\\dfrac{2a+3b+(3a-2b)i}{16}\\right) \\\\\n&=(75a-117b)+(116a+75b)i+3\\left(2a+3b+(3a-2b)i\\right) \\\\\n&=(75a-117b)+(116a+75b)i+6a+9b+(9a-6b)i \\\\\n&=(81a-108b)+(125a+69b)i. \\\\\n\\end{align*} We want to maximize  $\\text{Re}(w)=81a-108b$ . We can use elementary calculus for this, but to do so, we must put the expression in terms of one variable. Recall that  $a^2+b^2=16$ ; thus,  $b=\\pm\\sqrt{16-a^2}$ . Notice that we have a  $-108b$  in the expression; to maximize the expression, we want  $b$  to be negative so that  $-108b$  is positive and thus contributes more to the expression. We thus let  $b=-\\sqrt{16-a^2}$ . Let  $f(a)=81a-108b$ . We now know that  $f(a)=81a+108\\sqrt{16-a^2}$ , and can proceed with normal calculus. \\begin{align*}\nf(a)&=81a+108\\sqrt{16-a^2} \\\\\n&=27\\left(3a+4\\sqrt{16-a^2}\\right) \\\\\nf'(a)&=27\\left(3a+4\\sqrt{16-a^2}\\right)' \\\\\n&=27\\left(3+4\\left(\\sqrt{16-a^2}\\right)'\\right) \\\\\n&=27\\left(3+4\\left(\\dfrac{-2a}{2\\sqrt{16-a^2}}\\right)\\right) \\\\\n&=27\\left(3-4\\left(\\dfrac a{\\sqrt{16-a^2}}\\right)\\right) \\\\\n&=27\\left(3-\\dfrac{4a}{\\sqrt{16-a^2}}\\right). \\\\\n\\end{align*} We want  $f'(a)$  to be  $0$  to find the maximum. \\begin{align*}\n0&=27\\left(3-\\dfrac{4a}{\\sqrt{16-a^2}}\\right) \\\\\n&=3-\\dfrac{4a}{\\sqrt{16-a^2}} \\\\\n3&=\\dfrac{4a}{\\sqrt{16-a^2}} \\\\\n4a&=3\\sqrt{16-a^2} \\\\\n16a^2&=9\\left(16-a^2\\right) \\\\\n16a^2&=144-9a^2 \\\\\n25a^2&=144 \\\\\na^2&=\\dfrac{144}{25} \\\\\na&=\\dfrac{12}5 \\\\\n&=2.4. \\\\\n\\end{align*} We also find that  $b=-\\sqrt{16-2.4^2}=-\\sqrt{16-5.76}=-\\sqrt{10.24}=-3.2$ . Thus, the expression we wanted to maximize becomes  $81\\cdot2.4-108(-3.2)=81\\cdot2.4+108\\cdot3.2=\\boxed{540}$ . ~Technodoggo", "expected_answer": "540", "source": "aime24", "domain": null, "pass_ratio": 0.89}
{"id": "aime24-22", "problem": "Eight circles of radius  $34$  are sequentially tangent, and two of the circles are tangent to  $AB$  and  $BC$  of triangle  $ABC$ , respectively.  $2024$  circles of radius  $1$  can be arranged in the same manner. The inradius of triangle  $ABC$  can be expressed as  $\\frac{m}{n}$ , where  $m$  and  $n$  are relatively prime positive integers. Find  $m+n$ . [asy] pair A = (2,1); pair B = (0,0); pair C = (3,0); dot(A^^B^^C); label(\"$A$\", A, N); label(\"$B$\", B, S); label(\"$C$\", C, S); draw(A--B--C--cycle); for(real i=0.62; i<2.7; i+=0.29){ draw(circle((i,0.145), 0.145)); } [/asy]", "reference_solution": "Draw an altitude from both end circles of the diagram with the circles of radius one, and call the lengths you get drawing the altitudes of the circles down to  $BC$   $a$  and  $b$ . Now we have the length of side  $BC$  of being  $(2)(2022)+1+1+a+b$ . However, the side  $BC$  can also be written as  $(6)(68)+34+34+34a+34b$ , due to similar triangles from the second diagram. If we set the equations equal, we have  $\\frac{1190}{11} = a+b$ . Call the radius of the incircle  $r$ , then we have the side BC to be  $r(a+b)$ . We find  $r$  as  $\\frac{4046+\\frac{1190}{11}}{\\frac{1190}{11}}$ , which simplifies to  $\\frac{10+((34)(11))}{10}$ ,so we have  $\\frac{192}{5}$ , which sums to  $\\boxed{197}$ .", "expected_answer": "197", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-23", "problem": "Let  $A$ ,  $B$ ,  $C$ , and  $D$  be points on the hyperbola  $\\frac{x^2}{20}- \\frac{y^2}{24} = 1$  such that  $ABCD$  is a rhombus whose diagonals intersect at the origin. Find the greatest real number that is less than  $BD^2$  for all such rhombi.", "reference_solution": "A quadrilateral is a rhombus if and only if its two diagonals bisect each other and are perpendicular to each other. The first condition is automatically satisfied because of the hyperbola's symmetry about the origin. To satisfy the second condition, we set  $BD$  as the line  $y = mx$  and  $AC$  as  $y = -\\frac{1}{m}x.$  Because the hyperbola has asymptotes of slopes  $\\pm \\frac{\\sqrt6}{\\sqrt5},$  we have  $m, -\\frac{1}{m} \\in \\left(-\\frac{\\sqrt6}{\\sqrt5}, \\frac{\\sqrt6}{\\sqrt5}\\right).$  This gives us  $m^2 \\in \\left(\\frac{5}{6}, \\frac{6}{5}\\right).$ <br/>\nPlugging  $y = mx$  into the equation for the hyperbola yields  $x^2 = \\frac{120}{6-5m^2}$  and  $y^2 = \\frac{120m^2}{6-5m^2}.$  By symmetry of the hyperbola, we know that  $\\left(\\frac{BD}{2}\\right)^2 = x^2 + y^2,$  so we wish to find a lower bound for  $x^2 + y^2 = 120\\left(\\frac{1+m^2}{6-5m^2}\\right).$  This is equivalent to minimizing  $\\frac{1+m^2}{6-5m^2} = -\\frac{1}{5} + \\frac{11}{5(6-5m^2)}$ . It's then easy to see that this expression increases with  $m^2,$  so we plug in  $m^2 = \\frac{5}{6}$  to get  $x^2+y^2 > 120,$  giving  $BD^2 > \\boxed{480}.$", "expected_answer": "480", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-24", "problem": "Let  $ABC$  be a triangle inscribed in circle  $\\omega$ . Let the tangents to  $\\omega$  at  $B$  and  $C$  intersect at point  $D$ , and let  $\\overline{AD}$  intersect  $\\omega$  at  $P$ . If  $AB=5$ ,  $BC=9$ , and  $AC=10$ ,  $AP$  can be written as the form  $\\frac{m}{n}$ , where  $m$  and  $n$  are relatively prime integers. Find  $m + n$ .", "reference_solution": "From the tangency condition we have  $\\let\\angle BCD = \\let\\angle CBD = \\let\\angle A$ . With LoC we have  $\\cos(A) = \\frac{25+100-81}{2*5*10} = \\frac{11}{25}$  and  $\\cos(B) = \\frac{81+25-100}{2*9*5} = \\frac{1}{15}$ . Then,  $CD = \\frac{\\frac{9}{2}}{\\cos(A)} = \\frac{225}{22}$ . Using LoC we can find  $AD$ :  $AD^2 = AC^2 + CD^2 - 2(AC)(CD)\\cos(A+C) = 10^2+(\\frac{225}{22})^2 + 2(10)\\frac{225}{22}\\cos(B) = 100 + \\frac{225^2}{22^2} + 2(10)\\frac{225}{22}*\\frac{1}{15} = \\frac{5^4*13^2}{484}$ . Thus,  $AD = \\frac{5^2*13}{22}$ . By Power of a Point,  $DP*AD = CD^2$  so  $DP*\\frac{5^2*13}{22} = (\\frac{225}{22})^2$  which gives  $DP = \\frac{5^2*9^2}{13*22}$ . Finally, we have  $AP = AD - DP = \\frac{5^2*13}{22} - \\frac{5^2*9^2}{13*22} = \\frac{100}{13} \\rightarrow \\boxed{113}$ . ~angie.", "expected_answer": "113", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-25", "problem": "Each vertex of a regular octagon is independently colored either red or blue with equal probability. The probability that the octagon can then be rotated so that all of the blue vertices end up at positions where there were originally red vertices is  $\\tfrac{m}{n}$ , where  $m$  and  $n$  are relatively prime positive integers. What is  $m+n$ ?", "reference_solution": "Notice that the question's condition mandates all blues to go to reds, but reds do not necessarily have to go to blue. Let us do casework on how many blues there are. If there are no blues whatsoever, there is only one case. This case is valid, as all of the (zero) blues have gone to reds. (One could also view it as: the location of all the blues now were not previously red.) Thus, we have  $1$ . If there is a single blue somewhere, there are  $8$  cases - where can the blue be? Each of these is valid. If there are two blues, again, every case is valid, and there are  $\\dbinom82=28$  cases. If there are three blues, every case is again valid; there are  $\\dbinom83=56$  such cases. The case with four blues is trickier. Let us look at all possible subcases. If all four are adjacent (as in the diagram below), it is obvious: we can simply reverse the diagram (rotate it by  $4$  units) to achieve the problem's condition. There are  $8$  possible ways to have  $4$  adjacent blues, so this subcase contributes  $8$ . \n [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,0,0,1,1,1,1}; oct11(sus); [/asy] If three are adjacent and one is one away (as shown in the diagram below), we can not rotate the diagram to satisfy the question. This subcase does not work. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,0,1,0,1,1,1}; oct11(sus); [/asy] If three are adjacent and one is two away, obviously it is not possible as there is nowhere for the three adjacent blues to go. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,0,1,1,0,1,1}; oct11(sus); [/asy] If there are two adjacent pairs that are  $1$  apart, it is not possible since we do not have anywhere to put the two pairs. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,1,0,0,1,1,1}; oct11(sus); [/asy] If there are two adjacent pairs that are  $2$  apart, all of these cases are possible as we can rotate the diagram by  $2$  vertices to work. There are  $4$  of these cases. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,1,1,0,0,1,1}; oct11(sus); [/asy] If there is one adjacent pair and there are two separate ones each a distance of  $1$  from the other, this case does not work. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,1,0,1,0,1,1}; oct11(sus); [/asy] If we have one adjacent pair and two separate ones that are  $2$  away from each other, we can flip the diagram by  $4$  vertices. There are  $8$  of these cases. [asy] import graph;  void oct11(int[] pts) { pair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)}; draw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle); for (int i = 0; i < 8; i+=1) { if (pts[i] == 0) { dot(vertices[i], blue); } if (pts[i] == 1) { dot(vertices[i], red); } } }; int[] sus = {0,0,1,0,1,1,0,1}; oct11(sus); [/asy] Finally, if the red and blues alternate, we can simply shift the diagram by a single vertex to satisfy the question. Thus, all of these cases work, and we have  $2$  subcases. There can not be more than  $4$  blues, so we are done. Our total is  $1+8+28+56+8+4+8+2=115$ . There are  $2^8=256$  possible colorings, so we have  $\\dfrac{115}{256}$  and our answer is  $115+256=\\boxed{371}$ . ~Technodoggo", "expected_answer": "371", "source": "aime24", "domain": null, "pass_ratio": 0.11}
{"id": "aime24-26", "problem": "Define  $f(x)=|| x|-\\tfrac{1}{2}|$  and  $g(x)=|| x|-\\tfrac{1}{4}|$ . Find the number of intersections of the graphs of  \\[y=4 g(f(\\sin (2 \\pi x))) \\quad\\text{ and }\\quad x=4 g(f(\\cos (3 \\pi y))).\\]", "reference_solution": "If we graph  $4g(f(x))$ , we see it forms a sawtooth graph that oscillates between  $0$  and  $1$  (for values of  $x$  between  $-1$  and  $1$ , which is true because the arguments are between  $-1$  and  $1$ ). Thus by precariously drawing the graph of the two functions in the square bounded by  $(0,0)$ ,  $(0,1)$ ,  $(1,1)$ , and  $(1,0)$ , and hand-counting each of the intersections, we get  $\\boxed{385}$ While this solution might seem unreliable (it probably is), the only parts where counting the intersection might be tricky is near  $(1,1)$ . Make sure to count them as two points and not one, or you'll get  $384$ .", "expected_answer": "385", "source": "aime24", "domain": null, "pass_ratio": 0.0}
{"id": "aime24-27", "problem": "Let  $p$  be the least prime number for which there exists a positive integer  $n$  such that  $n^{4}+1$  is divisible by  $p^{2}$ . Find the least positive integer  $m$  such that  $m^{4}+1$  is divisible by  $p^{2}$ .", "reference_solution": "If \\(p=2\\), then \\(4\\mid n^4+1\\) for some integer \\(n\\). But \\(\\left(n^2\\right)^2\\equiv0\\) or \\(1\\pmod4\\), so it is impossible. Thus \\(p\\) is an odd prime. For integer \\(n\\) such that \\(p^2\\mid n^4+1\\), we have \\(p\\mid n^4+1\\), hence \\(p\\nmid n^4-1\\), but \\(p\\mid n^8-1\\). By <a href=\"/wiki/index.php/Fermat%27s_Little_Theorem\" title=\"Fermat's Little Theorem\">Fermat's Little Theorem</a>, \\(p\\mid n^{p-1}-1\\), so\n\\begin{equation*}\np\\mid\\gcd\\left(n^{p-1}-1,n^8-1\\right)=n^{\\gcd(p-1,8)}-1.\n\\end{equation*}\nHere, \\(\\gcd(p-1,8)\\) mustn't be divide into \\(4\\) or otherwise \\(p\\mid n^{\\gcd(p-1,8)}-1\\mid n^4-1\\), which contradicts. So \\(\\gcd(p-1,8)=8\\), and so \\(8\\mid p-1\\). The smallest such prime is clearly \\(p=17=2\\times8+1\\).\nSo we have to find the smallest positive integer \\(m\\) such that \\(17\\mid m^4+1\\). We first find the remainder of \\(m\\) divided by \\(17\\) by doing\n\\begin{array}{|c|cccccccccccccccc|}\n\\hline\n\\vphantom{\\tfrac11}x\\bmod{17}&1&2&3&4&5&6&7&8&9&10&11&12&13&14&15&16\\\\\\hline\n\\vphantom{\\dfrac11}\\left(x^4\\right)+1\\bmod{17}&2&0&14&2&14&5&5&0&0&5&5&14&2&14&0&2\\\\\\hline\n\\end{array}\nSo \\(m\\equiv\\pm2\\), \\(\\pm8\\pmod{17}\\). If \\(m\\equiv2\\pmod{17}\\), let \\(m=17k+2\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k+2)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(2)^3+2^4+1=17(1+32k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv1+32k\\equiv1-2k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=9\\), and \\(m=155\\). If \\(m\\equiv-2\\pmod{17}\\), let \\(m=17k-2\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k-2)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(-2)^3+2^4+1=17(1-32k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv1-32k\\equiv1+2k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=8\\), and \\(m=134\\). If \\(m\\equiv8\\pmod{17}\\), let \\(m=17k+8\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k+8)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(8)^3+8^4+1=17(241+2048k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv241+2048k\\equiv3+8k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=6\\), and \\(m=110\\). If \\(m\\equiv-8\\pmod{17}\\), let \\(m=17k-8\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k-8)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(-8)^3+8^4+1=17(241-2048k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv241+2048k\\equiv3+9k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=11\\), and \\(m=179\\). In conclusion, the smallest possible \\(m\\) is \\(\\boxed{110}\\). <font size=\"2\">Solution by Quantum-Phantom</font>", "expected_answer": "110", "source": "aime24", "domain": null, "pass_ratio": 0.27}
{"id": "aime24-28", "problem": "Let  $ABCD$  be a tetrahedron such that  $AB=CD= \\sqrt{41}$ ,  $AC=BD= \\sqrt{80}$ , and  $BC=AD= \\sqrt{89}$ . There exists a point  $I$  inside the tetrahedron such that the distances from  $I$  to each of the faces of the tetrahedron are all equal. This distance can be written in the form  $\\frac{m \\sqrt n}{p}$ , where  $m$ ,  $n$ , and  $p$  are positive integers,  $m$  and  $p$  are relatively prime, and  $n$  is not divisible by the square of any prime. Find  $m+n+p$ .", "reference_solution": "Notice that \\(41=4^2+5^2\\), \\(89=5^2+8^2\\), and \\(80=8^2+4^2\\), let \\(A~(0,0,0)\\), \\(B~(4,5,0)\\), \\(C~(0,5,8)\\), and \\(D~(4,0,8)\\). Then the plane \\(BCD\\) has a normal\n\\begin{equation*}\n\\mathbf n:=\\frac14\\overrightarrow{BC}\\times\\overrightarrow{CD}=\\frac14\\begin{pmatrix}-4\\\\0\\\\8\\end{pmatrix}\\times\\begin{pmatrix}4\\\\-5\\\\0\\end{pmatrix}=\\begin{pmatrix}10\\\\8\\\\5\\end{pmatrix}.\n\\end{equation*}\nHence, the distance from \\(A\\) to plane \\(BCD\\), or the height of the tetrahedron, is\n\\begin{equation*}\nh:=\\frac{\\mathbf n\\cdot\\overrightarrow{AB}}{|\\mathbf n|}=\\frac{10\\times4+8\\times5+5\\times0}{\\sqrt{10^2+8^2+5^2}}=\\frac{80\\sqrt{21}}{63}.\n\\end{equation*}\nEach side of the tetrahedron has the same area due to congruency by \"S-S-S\", and we call it \\(S\\). Then by the volume formula for pyramids,\n\\begin{align*}\n\\frac13Sh&=V_{D\\text-ABC}=V_{I\\text-ABC}+V_{I\\text-BCD}+V_{I\\text-CDA}+V_{I\\text-DAB}\\\\\n&=\\frac13Sr\\cdot4.\n\\end{align*}\nHence, \\(r=\\tfrac h4=\\tfrac{20\\sqrt{21}}{63}\\), and so the answer is \\(20+21+63=\\boxed{104}\\). <font size=\"2\">Solution by Quantum-Phantom</font>", "expected_answer": "104", "source": "aime24", "domain": null, "pass_ratio": 0.08}
{"id": "aime24-29", "problem": "Let  $\\mathcal{B}$  be the set of rectangular boxes with surface area  $54$  and volume  $23$ . Let  $r$  be the radius of the smallest sphere that can contain each of the rectangular boxes that are elements of  $\\mathcal{B}$ . The value of  $r^2$  can be written as  $\\frac{p}{q}$ , where  $p$  and  $q$  are relatively prime positive integers. Find  $p+q$ .", "reference_solution": "Observe that the \"worst\" possible box is one of the maximum possible length. \nBy symmetry, the height and the width are the same in this antioptimal box. (If the height and width weren't the same, the extra difference between them could be used to make the length longer.) Thus, let the width and height be of length  $a$  and the length be  $L$ . We're given that the volume is  $23$ ; thus,  $a^2L=23$ . We're also given that the surface area is  $54=2\\cdot27$ ; thus,  $a^2+2aL=27$ . From the first equation, we can get  $L=\\dfrac{23}{a^2}$ . We do a bunch of algebra: \\begin{align*}\nL&=\\dfrac{23}{a^2} \\\\\n27&=a^2+2aL \\\\\n&=a^2+2a\\left(\\dfrac{23}{a^2}\\right) \\\\\n&=a^2+\\dfrac{46}a \\\\\n27a&=a^3+46 \\\\\na^3-27a+46&=0. \\\\\n\\end{align*} We can use the Rational Root Theorem and test a few values. It turns out that  $a=2$  works. We use synthetic division to divide by  $a-2$ : <a class=\"image\" href=\"/wiki/index.php/File:Asdf.png\"><img alt=\"Asdf.png\" height=\"121\" src=\"https://wiki-images.artofproblemsolving.com//0/01/Asdf.png\" width=\"338\"/></a> As we expect, the remainder is  $0$ , and we are left with the polynomial  $x^2+2x-23$ . We can now simply use the quadratic formula and find that the remaining roots are  $\\dfrac{-2\\pm\\sqrt{4-4(-23)}}2=\\dfrac{-2\\pm\\sqrt{96}}2=\\dfrac{-2\\pm4\\sqrt{6}}2=-1\\pm2\\sqrt6$ . We want the smallest  $a$  to maximize  $L$ , and it turns out that  $a=2$  is in fact the smallest root. Thus, we let  $a=2$ . Substituting this into  $L=\\dfrac{23}{a^2}$ , we find that  $L=\\dfrac{23}4$ . However, this is not our answer! This is simply the length of the box; we want the radius of the sphere enclosing it. We know that the diameter of the sphere is the diagonal of the box, and the 3D Pythagorean Theorem can give us the space diagonal. Applying it, we find that the diagonal has length  $\\sqrt{2^2+2^2+\\left(\\dfrac{23}4\\right)^2}=\\sqrt{8+\\dfrac{529}{16}}=\\sqrt{\\dfrac{128+529}{16}}=\\dfrac{\\sqrt{657}}4$ . This is the diameter; we halve it to find the radius,  $\\dfrac{\\sqrt{657}}8$ . We then square this and end up with  $\\dfrac{657}{64}$ , giving us an answer of  $657+64=\\boxed{721}$ . ~Technodoggo", "expected_answer": "721", "source": "aime24", "domain": null, "pass_ratio": 0.09}